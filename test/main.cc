#include <iostream>

#include "jclab_license/license_verifier.h"

int main() {
    jclab_license::LicenseVerifier* verifier = jclab_license::LicenseVerifier::getInstance();

    const std::string license_b64 = "MIIErgYJKoZIhvcNAQcCoIIEnzCCBJsCAQExDzANBglghkgBZQMEAgEFADCBtAYMKwYBBAGD6RcUi10BoIGjBIGgCOLEycWwM1IEdGVzdFoPdGVzdEBqYy1sYWIubmV0ogEMdGVzdC1wcm9kdWN0qAEBsAHv29nZBvAB0IYD+gFhCgx0ZXN0LXByb2R1Y3QSK0ZBZWNuUkxJNE9sU1l5WnRndmFGTmVRdzkybXVxSDc0aURZLXNmTGdMSVUY06IBIiDrpShSRGmZ7Ee8frK2mXgHTGrN3CktPtRstlhzG4N18KCCArIwggKuMIICNKADAgECAhQTxB5/n6/AXWLVk1I2yjpYg9eyyDAKBggqhkjOPQQDAzAjMSEwHwYDVQQDDBhKQy1MYWIgTGljZW5zZSBBdXRob3JpdHkwHhcNMjUxMjA4MDk1MDI5WhcNMjUxMjMxMjM1OTU5WjBEMSQwIgYDVQQDDBtKQy1MYWIgTGljZW5zZSBTaWduaW5nIDIwMjUxDzANBgNVBAoMBkpDLUxhYjELMAkGA1UEBhMCS1IwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAASTrmPQtVsnBoNpk1T3vSGHTJfIE1uLr0NSMU7nuv6VuEHVaKkMcPMZ9CWooJB5rgAX6Zs45zW590Au4sDtPYnfo4IBIzCCAR8wDAYDVR0TAQH/BAIwADAfBgNVHSMEGDAWgBSaIXHMXAV5u5MU+u/n/hue/FqbBzAXBgNVHSUEEDAOBgwrBgEEAYPpFwoDi10wgaUGA1UdHwSBnTCBmjCBl6BsoGqGaGh0dHA6Ly9jYS5saWNlbnNlLmpjbGFiLmtyL2VqYmNhL3B1YmxpY3dlYi93ZWJkaXN0L2NlcnRkaXN0P2NtZD1jcmwmaXNzdWVyPUNOJTNESkMtTGFiK0xpY2Vuc2UrQXV0aG9yaXR5oiekJTAjMSEwHwYDVQQDDBhKQy1MYWIgTGljZW5zZSBBdXRob3JpdHkwHQYDVR0OBBYEFDZeuHHH3MARbPqYEFHnXHuj7zEBMA4GA1UdDwEB/wQEAwIGwDAKBggqhkjOPQQDAwNoADBlAjB0NLIDtBQePljcTHAazpRBv9kgp3MeI9yOGm9CkMHFfxAjyjpoyfs/4Ds1yrmRIwUCMQCSB62+1ejRRgwxQHPqZDpCpBY6IRshrP+rROacwyFNHWR0XAPG7L2u4Icf63K/11MxggEWMIIBEgIBATA7MCMxITAfBgNVBAMMGEpDLUxhYiBMaWNlbnNlIEF1dGhvcml0eQIUE8Qef5+vwF1i1ZNSNso6WIPXssgwDQYJYIZIAWUDBAIBBQCgbDAcBgkqhkiG9w0BCQUxDxcNMjUxMjEwMTQzNzQ3WjAbBgkqhkiG9w0BCQMxDgYMKwYBBAGD6RcUi10BMC8GCSqGSIb3DQEJBDEiBCDm1U5Wg+No3GKdPohJUfSEuBKm4fAm0QrbSaPFw6XTkDALBgcqhkjOPQIBBQAERjBEAiBttIXcZ00TAWsHK7mpJMQCM9/dnedf/8zN9oA/yLaD9QIgOf0t2guhiP+de555q4cGAsnFfuN1M71gUuo9LOa0TJk=";

    auto result = verifier->verifyB64(license_b64);

    if (result.verified) {
        std::cout << "License verified successfully." << std::endl;
    } else {
        std::cout << "License verification failed." << std::endl;
    }

    return 0;
}